# More Effective c++

## 仔细区别pointers核references

### 必须使用pointer

- 当变量的目的是用来指向另一个对象，但是也有可能不执行任何对象，那么应该使用pointer，**没有所谓的null reference**
- 如果变量需要重新赋值，则应该使用pointer
```
string s1("Nancy");
string s2("Clancy");

string& rs = s1;
string *ps = &s1;

rs = s2;    //rs仍然表示s1，但是s1的内容变成了Clancy
ps = &s2;   //s1没有变化
``` 
### 必须使用reference
- 重载某些操作符时，最常见就是operator[]。这个操作必须返回某种"能够被当作assignment赋值对象"的东西
```
vector<int> v(10);

v[5] = 10;
//如果operator返回pointer，上述最后一个语句必须写成这样子：
//*v[5] = 10;
```
### 指针与引用的区别
- c++标准规定：引用不一定占据存储空间，但是指针一定占用；(虽然从汇编代码看来引用占据空间，但是从c++语言看来，不一定占用，引用在效果上等同于一个指针常量)
- 引用必须初始化，指针不一定需要。所以，不存在空引用；
- 由于引用在效果上等同于指针常量，所以，引用一经初始化，不允许改变所所指对象；
- 对引用变量所指对象进行操作不需要解引用，但是指针需要；

## 最好使用c++转型操作符
